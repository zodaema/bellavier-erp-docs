# Task 13.11 ‚Äî Leather GRN Warehouse UX Overhaul & Flow Separation

**Status:** PLANNED  
**Owner:** Nuttaphon + AI Agent  
**Depends on:** Task 13.10 (Unified Leather GRN Flow)  
**Area:** Components / Materials / Warehouse UX  

---

## 0. High-Level Goals

1. **‡∏ó‡∏≥ Leather GRN ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡πÉ‡∏ô‡∏™‡∏≤‡∏¢‡∏ï‡∏≤‡∏Ñ‡∏•‡∏±‡∏á‡∏à‡∏£‡∏¥‡∏á** (‡∏£‡∏±‡∏ö‡∏´‡∏ô‡∏±‡∏á 10‚Äì50 ‡∏ú‡∏∑‡∏ô‡πÑ‡∏î‡πâ‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß)
2. **‡∏à‡∏±‡∏î‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö Flow ‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á:**
   - Standard GRN (‡∏£‡∏±‡∏ö‡∏ß‡∏±‡∏™‡∏î‡∏∏‡∏ó‡∏∏‡∏Å‡∏ä‡∏ô‡∏¥‡∏î)
   - Leather GRN (‡∏£‡∏±‡∏ö‡∏´‡∏ô‡∏±‡∏á‡πÅ‡∏ö‡∏ö sheet-level ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô)
3. **‡πÑ‡∏°‡πà‡πÅ‡∏ï‡∏∞ / ‡πÑ‡∏°‡πà‡∏û‡∏±‡∏á GRN ‡πÄ‡∏î‡∏¥‡∏°**  
   Leather GRN ‡∏Ñ‡∏∑‡∏≠ flow ‡∏û‡∏¥‡πÄ‡∏®‡∏©‡πÄ‡∏™‡∏£‡∏¥‡∏° ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏Å‡∏≤‡∏£‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏ö GRN ‡∏õ‡∏Å‡∏ï‡∏¥

---

## 1. Flow Separation ‚Äî Standard GRN vs Leather GRN

### 1.1 Definitions

- **Standard GRN (Existing Flow)**
  - ‡πÉ‡∏ä‡πâ‡∏£‡∏±‡∏ö Stock ‡∏ó‡∏∏‡∏Å‡∏ä‡∏ô‡∏¥‡∏î: ‡∏î‡πâ‡∏≤‡∏¢, ‡∏Å‡∏≤‡∏ß, ‡∏≠‡∏∞‡πÑ‡∏´‡∏•‡πà, ‡∏ã‡∏¥‡∏õ, ‡∏Ø‡∏•‡∏Ø
  - ‡πÉ‡∏ä‡πâ‡∏ï‡∏≤‡∏£‡∏≤‡∏á/endpoint ‡πÄ‡∏î‡∏¥‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡πÄ‡∏ä‡πà‡∏ô `material_lot`, GRN APIs ‡πÄ‡∏î‡∏¥‡∏°)
  - ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö `leather_sheet` ‡πÅ‡∏•‡∏∞ component serial

- **Leather GRN (New Specialized Flow)**
  - ‡πÉ‡∏ä‡πâ‡∏£‡∏±‡∏ö ‚Äú‡∏´‡∏ô‡∏±‡∏á‚Äù ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô (sheet-level, ‡∏ú‡∏∑‡∏ô‡∏ï‡πà‡∏≠‡∏ú‡∏∑‡∏ô)
  - ‡πÉ‡∏ä‡πâ `material_lot` + `leather_sheet` ‡∏ï‡∏≤‡∏° Task 13.10
  - ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• sheet ‡∏ï‡πà‡∏≠‡πÉ‡∏ô CUT Behavior / Component System

### 1.2 Required Rules (MUST FOLLOW)

1. **‡∏´‡πâ‡∏≤‡∏°‡πÅ‡∏ï‡∏∞ Logic / Schema ‡∏Ç‡∏≠‡∏á Standard GRN ‡πÄ‡∏î‡∏¥‡∏°**
   - ‡∏´‡πâ‡∏≤‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç migration ‡πÄ‡∏î‡∏¥‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö GRN
   - ‡∏´‡πâ‡∏≤‡∏°‡∏•‡∏ö/rename columns ‡πÄ‡∏î‡∏¥‡∏°‡πÉ‡∏ô `material_lot` ‡∏ó‡∏µ‡πà GRN ‡∏õ‡∏Å‡∏ï‡∏¥‡πÉ‡∏ä‡πâ
   - ‡∏´‡πâ‡∏≤‡∏°‡πÅ‡∏Å‡πâ endpoint ‡∏Ç‡∏≠‡∏á GRN ‡∏õ‡∏Å‡∏ï‡∏¥ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ) ‡∏ô‡∏≠‡∏Å‡∏à‡∏≤‡∏Å *‡∏≠‡πà‡∏≤‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß* ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á

2. **Leather GRN = Flow ‡πÅ‡∏¢‡∏Å**
   - ‡πÉ‡∏ä‡πâ endpoint ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á: `source/leather_grn.php`
   - ‡πÉ‡∏ä‡πâ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á: `page/leather_grn.php`, `views/leather_grn.php`
   - ‡πÉ‡∏ä‡πâ permission ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á: `leather_grn.manage`
   - Standard GRN ‡πÑ‡∏°‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏Å Leather GRN, Leather GRN ‡πÑ‡∏°‡πà override GRN ‡∏õ‡∏Å‡∏ï‡∏¥

3. **Menu / UI ‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô**
   - Standard GRN: ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏ô‡∏π‡πÉ‡∏´‡πâ‡∏™‡∏∑‡πà‡∏≠‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô ‚Äú‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ / GRN ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‚Äù
   - Leather GRN: ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏ô‡∏π‡πÉ‡∏´‡πâ‡∏™‡∏∑‡πà‡∏≠‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô ‚ÄúLeather GRN (‡∏£‡∏±‡∏ö‡∏´‡∏ô‡∏±‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏∑‡∏ô)‚Äù
   - ‡πÉ‡∏ä‡πâ icon / label ‡πÅ‡∏¢‡∏Å‡∏ä‡∏±‡∏î‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô ‚Äú‡∏´‡∏ô‡∏±‡∏á‚Äù ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏™‡∏±‡∏ö‡∏™‡∏ô

4. **Migration Leather GRN ‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏ä‡∏ô‡∏Å‡∏±‡∏ö GRN ‡πÄ‡∏î‡∏¥‡∏°**
   - ‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏•‡πå migration ‡πÉ‡∏´‡∏°‡πà: `2025_12_leather_grn_unified_flow.php` (‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏≤‡∏Å Task 13.10)
   - ‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏° column/constraint ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ú‡∏•‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô behavior ‡πÄ‡∏î‡∏¥‡∏°‡∏Ç‡∏≠‡∏á GRN ‡∏õ‡∏Å‡∏ï‡∏¥
   - ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏° index/additional columns ‡πÅ‡∏ö‡∏ö backwards-compatible ‡πÑ‡∏î‡πâ (‡πÄ‡∏ä‡πà‡∏ô `is_leather_grn`)

---

## 2. Leather GRN Warehouse UX Overhaul

> ‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏ó‡∏µ‡πà `page/leather_grn.php`, `views/leather_grn.php`, `assets/javascripts/materials/leather_grn.js`  
> ‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô contract ‡∏Ç‡∏≠‡∏á `source/leather_grn.php` (actions: `init`, `save`, `list`)

### 2.1 Layout Overhaul (2-Pane Design)

**‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢:** ‡∏•‡∏î‡∏Å‡∏≤‡∏£ scroll, ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏°‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡∏ó‡∏±‡πâ‡∏á Header + Sheet Grid ‡πÅ‡∏ö‡∏ö‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô

- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å single long form ‚Üí **2-block layout ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏ß**
  - Block A: **GRN Header (Compact)** ‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô/‡∏ã‡πâ‡∏≤‡∏¢
  - Block B: **Leather Sheets Grid (Rapid Input)** ‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á/‡∏Ç‡∏ß‡∏≤ ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠

**Header ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 1‚Äì2 ‡πÅ‡∏ñ‡∏ß‡∏´‡∏•‡∏±‡∏Å:**

- Material SKU (‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏à‡∏≤‡∏Å leather materials ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô)
- Supplier
- Invoice Number
- Received Date
- Grade (A/B/...)
- Total Sheets
- ‡∏õ‡∏∏‡πà‡∏° **Generate Rows**

**Fields ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (optional):**

- Thickness (mm)
- Location
- Notes

‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô **collapsible section** (‡πÄ‡∏ä‡πà‡∏ô ‚Äú‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‚Äù) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏∞‡∏Å‡∏∞‡∏™‡∏≤‡∏¢‡∏ï‡∏≤‡∏Ñ‡∏•‡∏±‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏Ñ‡∏µ‡∏¢‡πå‡πÄ‡∏£‡πá‡∏ß

---

### 2.2 Human-Friendly Material Picker (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏´‡∏ô‡∏±‡∏á)

‡∏õ‡∏£‡∏±‡∏ö section Material ‡∏à‡∏≤‡∏Å dropdown ‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤ ‚Üí **searchable picker**

- ‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å API `leather_grn.php?action=init`
- UI ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ leather materials ‡πÄ‡∏õ‡πá‡∏ô card / row ‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢ ‡πÄ‡∏ä‡πà‡∏ô:

  - ‡∏ä‡∏∑‡πà‡∏≠: `Navy Blue Saffiano`
  - SKU: `MAT-LEA-001`
  - Type: `Goat / Calf / Saffiano`
  - Thickness default: `1.4 mm`
  - Supplier default (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)

- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÇ‡∏î‡∏¢: **‡∏ä‡∏∑‡πà‡∏≠, ‡∏™‡∏µ, SKU, Supplier**
- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß:
  - fill ‡∏Ñ‡πà‡∏≤ Material SKU
  - ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ fill ‡∏Ñ‡πà‡∏≤ default ‡πÄ‡∏ä‡πà‡∏ô Thickness, Grade (‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡∏ó‡∏≥‡πÄ‡∏û‡∏¥‡πà‡∏°)

---

### 2.3 Rapid Sheet Input Mode (POS-like)

**‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢:** ‡πÉ‡∏´‡πâ‡∏Ñ‡∏ô‡∏Ñ‡∏•‡∏±‡∏á‡∏Ñ‡∏µ‡∏¢‡πå‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏µ‡∏•‡∏∞‡∏ú‡∏∑‡∏ô‡πÄ‡∏£‡πá‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ mouse ‡πÄ‡∏¢‡∏≠‡∏∞

#### Behavior ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö:

1. ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î `Total Sheets` ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î **Generate Rows**
   - ‡∏™‡∏£‡πâ‡∏≤‡∏á N rows ‡πÉ‡∏ô Leather Sheets Grid
   - Autofocus ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Area** ‡∏Ç‡∏≠‡∏á row ‡πÅ‡∏£‡∏Å‡∏ó‡∏±‡∏ô‡∏ó‡∏µ

2. Keyboard-friendly:
   - `Enter` ‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á Area ‚Üí ‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ Area ‡πÅ‡∏ñ‡∏ß‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
   - ‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏ñ‡∏ß‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ ‡πÅ‡∏•‡∏∞‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÅ‡∏ñ‡∏ß‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£  
     ‚Üí auto-add ‡πÅ‡∏ñ‡∏ß‡πÉ‡∏´‡∏°‡πà‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö Total Sheets
   - Arrow Up/Down ‚Üí ‡∏¢‡πâ‡∏≤‡∏¢‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á Area ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ñ‡∏ß
   - Tab ‚Üí ‡∏¢‡πâ‡∏≤‡∏¢ Area ‚Üí Weight ‚Üí Next row

3. Quick Actions:
   - ‡∏õ‡∏∏‡πà‡∏° **Fill All with Area**: popup ‡πÉ‡∏´‡πâ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤ area ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß, apply ‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å row ‡∏ó‡∏µ‡πà‡∏ß‡πà‡∏≤‡∏á
   - ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏ö‡πÅ‡∏ñ‡∏ß `[üóë]` ‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà‡∏Å‡∏ß‡πà‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥ ‡πÉ‡∏´‡πâ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏á‡πà‡∏≤‡∏¢

4. Performance:
   - ‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏≠‡∏á‡∏Å‡∏±‡∏ö ~50 rows ‡πÅ‡∏•‡πâ‡∏ß scroll/‡∏Ñ‡∏µ‡∏¢‡πå‡πÑ‡∏°‡πà‡∏´‡∏ô‡πà‡∏ß‡∏á
   - ‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡πÉ‡∏´‡πâ‡∏•‡∏î DOM cost (reuse row template, ‡πÑ‡∏°‡πà render element ‡πÄ‡∏Å‡∏¥‡∏ô‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)

---

### 2.4 Sheet Code Pattern (‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢)

Logic ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏à‡∏≤‡∏Å Task 13.10:

```text
MAT-GRN-20251120-001

‡πÉ‡∏´‡πâ Agent ‡∏õ‡∏£‡∏±‡∏ö pattern ‡πÄ‡∏õ‡πá‡∏ô:

{SKU}-{YYYYMMDD}-{SEQ3}
‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: MAT-SAFF-20251120-001

‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î:
	‚Ä¢	‡∏¢‡∏±‡∏á generate ‡∏ù‡∏±‡πà‡∏á frontend ‡πÑ‡∏î‡πâ (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö preview)
‡πÅ‡∏ï‡πà serial ‡∏à‡∏£‡∏¥‡∏á‡∏ï‡πâ‡∏≠‡∏á confirm ‡∏à‡∏≤‡∏Å API save ‡∏ï‡∏≤‡∏° logic ‡πÉ‡∏ô 13.10
	‚Ä¢	‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô GRN Number ‡∏´‡∏£‡∏∑‡∏≠ Material SKU ‡∏ï‡πâ‡∏≠‡∏á update code preview ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á pattern ‡πÉ‡∏´‡∏°‡πà

‚ùó ‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô format ‡∏ó‡∏µ‡πà backend ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏±‡∏ö‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡πå (‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô ‡πÉ‡∏´‡πâ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á 2 format ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏û‡∏±‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πà‡∏≤)

‚∏ª

3. Menu & UX Communication (‡∏™‡∏≠‡∏á Flow ‡πÅ‡∏¢‡∏Å)

3.1 Sidebar Menu

‡πÉ‡∏ô views/template/sidebar-left.template.php:
	‚Ä¢	‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ß‡πà‡∏≤‡∏°‡∏µ‡πÄ‡∏°‡∏ô‡∏π Standard GRN (‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡∏à‡πÄ‡∏õ‡πá‡∏ô ‚Äú‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‚Äù, ‚ÄúGRN ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‚Äù)
	‚Ä¢	‡πÑ‡∏°‡πà‡πÅ‡∏Å‡πâ permission ‡πÄ‡∏î‡∏¥‡∏°
	‚Ä¢	‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô route / page / API
	‚Ä¢	‡πÄ‡∏û‡∏¥‡πà‡∏° / ‡∏õ‡∏£‡∏±‡∏ö label ‡∏Ç‡∏≠‡∏á Leather GRN ‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î:

Leather GRN (‡∏£‡∏±‡∏ö‡∏´‡∏ô‡∏±‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏∑‡∏ô)


	‚Ä¢	‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ (‡∏ñ‡πâ‡∏≤ layout ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á):

Inventory / Stores
  - Materials
  - Standard GRN
  - Leather GRN (‡∏£‡∏±‡∏ö‡∏´‡∏ô‡∏±‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏∑‡∏ô)
  - Warehouses



3.2 Tooltip / Helper Text

‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Leather GRN (views/leather_grn.php) ‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏° helper text ‡∏™‡∏±‡πâ‡∏ô‡πÜ ‡∏ß‡πà‡∏≤:

‚Äú‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏±‡∏ö ‡∏´‡∏ô‡∏±‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏∑‡∏ô (Leather Sheets) ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
‡∏ß‡∏±‡∏™‡∏î‡∏∏‡∏≠‡∏∑‡πà‡∏ô‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏´‡∏ô‡πâ‡∏≤ GRN ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‚Äù

‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏ä‡πâ‡∏ú‡∏¥‡∏î‡∏ó‡∏µ‡πà

‚∏ª

4. API & Migration Safety Rules

4.1 GRN ‡πÄ‡∏î‡∏¥‡∏°
	‚Ä¢	‡∏´‡πâ‡∏≤‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏ü‡∏•‡πå migration ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö GRN ‡∏õ‡∏Å‡∏ï‡∏¥
	‚Ä¢	‡∏´‡πâ‡∏≤‡∏°‡πÅ‡∏Å‡πâ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á material_lot ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÇ‡∏î‡∏¢ GRN ‡πÄ‡∏î‡∏¥‡∏° ‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô:
	‚Ä¢	column ‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô optional, ‡∏Ñ‡πà‡∏≤ default ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ (is_leather_grn ‡∏à‡∏≤‡∏Å 13.10 ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ)
	‚Ä¢	index ‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô behavior

4.2 Leather GRN

Allowed:
	‚Ä¢	‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞:
	‚Ä¢	source/leather_grn.php
	‚Ä¢	UI files: page/leather_grn.php, views/leather_grn.php, assets/javascripts/materials/leather_grn.js
	‚Ä¢	‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô action names (init, save, list)
	‚Ä¢	‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á response ‡∏´‡∏•‡∏±‡∏Å (fields ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô)

‚∏ª

5. Technical Checklist for Agent
	1.	Layout & HTML
	‚Ä¢	‡∏¢‡∏∏‡∏ö GRN Header ‡πÉ‡∏´‡πâ compact ‡∏ï‡∏≤‡∏° spec
	‚Ä¢	‡πÄ‡∏û‡∏¥‡πà‡∏° collapsible ‚Äú‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‚Äù ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö thickness / notes / location
	‚Ä¢	‡∏õ‡∏£‡∏±‡∏ö Leather Sheets table ‡πÉ‡∏´‡πâ‡πÄ‡∏ô‡πâ‡∏ô Area input + keyboard friendly
	2.	Material Picker
	‚Ä¢	‡∏î‡∏∂‡∏á data ‡∏à‡∏≤‡∏Å leather_grn.php?action=init
	‚Ä¢	‡∏ó‡∏≥ search/filter ‡∏ï‡∏≤‡∏° ‡∏ä‡∏∑‡πà‡∏≠ / ‡∏™‡∏µ / SKU / supplier
	‚Ä¢	‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å material ‚Üí update SKU field, default‡∏Ñ‡πà‡∏≤ relevant fields
	3.	JS Logic
	‚Ä¢	Implement keyboard navigation (Enter, Arrow keys)
	‚Ä¢	Implement generateSheetRows(count) optimized
	‚Ä¢	Implement Fill All with Area popup
	‚Ä¢	Ensure no breaking changes to API payload shape (save)
	4.	Menu & Copywriting
	‚Ä¢	‡∏õ‡∏£‡∏±‡∏ö label ‡πÄ‡∏°‡∏ô‡∏π Leather GRN ‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô (‡∏£‡∏±‡∏ö‡∏´‡∏ô‡∏±‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏∑‡∏ô)
	‚Ä¢	‡πÄ‡∏û‡∏¥‡πà‡∏° helper text ‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Leather GRN ‡∏ß‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡∏±‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
	‚Ä¢	‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Standard GRN menu ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏≠‡∏¢‡∏π‡πà ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡πÇ‡∏î‡∏ô touch
	5.	Testing
	‚Ä¢	‡∏™‡∏£‡πâ‡∏≤‡∏á Leather GRN ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡∏±‡∏á 10, 20, 50 ‡∏ú‡∏∑‡∏ô ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß/‡∏•‡∏∑‡πà‡∏ô
	‚Ä¢	‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Standard GRN ‡∏¢‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°
	‚Ä¢	‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ material_lot record ‡∏à‡∏≤‡∏Å Leather GRN ‡∏°‡∏µ is_leather_grn = 1
‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏£‡∏ö‡∏Å‡∏ß‡∏ô record ‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏à‡∏≤‡∏Å GRN ‡∏õ‡∏Å‡∏ï‡∏¥

‚∏ª

6. Definition of Done

Task 13.11 ‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤ ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡πÄ‡∏°‡∏∑‡πà‡∏≠:
	1.	Leather GRN page ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏ô‡∏°‡∏∏‡∏°‡∏°‡∏≠‡∏á ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ñ‡∏•‡∏±‡∏á
(‡∏£‡∏±‡∏ö‡∏´‡∏ô‡∏±‡∏á 10‚Äì50 ‡∏ú‡∏∑‡∏ô‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏°‡πà‡∏´‡∏á‡∏∏‡∏î‡∏´‡∏á‡∏¥‡∏î)
	2.	GRN ‡∏õ‡∏Å‡∏ï‡∏¥‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏° ‡πÑ‡∏°‡πà‡∏°‡∏µ side effect
	3.	‡πÄ‡∏°‡∏ô‡∏π, UI, helper text ‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏ß‡πà‡∏≤‡∏°‡∏µ 2 flow:
Standard GRN vs Leather GRN (‡∏£‡∏±‡∏ö‡∏´‡∏ô‡∏±‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏∑‡∏ô)
	4.	‡πÑ‡∏°‡πà‡∏°‡∏µ migration ‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡πÑ‡∏õ‡πÅ‡∏ï‡∏∞ schema GRN ‡πÄ‡∏î‡∏¥‡∏°‡πÄ‡∏Å‡∏¥‡∏ô‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
	5.	php -l ‡∏ú‡πà‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ / ‡∏™‡∏£‡πâ‡∏≤‡∏á
	6.	Manual test:
	‚Ä¢	Standard GRN x1
	‚Ä¢	Leather GRN x1 (10+ sheets)
‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏π‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ú‡πà‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏°‡∏µ error

